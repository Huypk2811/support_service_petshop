<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Pet Shop - Danh sách hỗ trợ</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-4">
    <h1 class="text-center text-primary mb-4">🐾 DANH SÁCH YÊU CẦU HỖ TRỢ 🐾</h1>

    <div class="card shadow">
        <div class="card-header bg-success text-white">
            <h4>📋 Danh sách yêu cầu</h4>
        </div>
        <div class="card-body">
            <div id="list" class="list-group"></div>
        </div>
    </div>
</div>

<script>
const API = "/supportservicecf/api/support";

function loadData(){
    fetch(API)
      .then(r => r.json())
      .then(data => {
        const list = document.getElementById('list');
        list.innerHTML = '';
        if (!data || data.length === 0) {
          list.innerHTML = `<div class="text-muted">Chưa có yêu cầu nào</div>`;
          return;
        }
        data.forEach(item => {
          list.innerHTML += `
            <div class="list-group-item">
              <strong>${item.name}</strong> (${item.email})<br>
              ${item.message}<br>
              <small class="badge bg-secondary">Trạng thái: ${item.status}</small>
            </div>`;
        });
      })
      .catch(err=>{
        document.getElementById('list').innerHTML =
          `<div class="text-danger">Không tải được dữ liệu: ${err}</div>`;
      });
}

loadData();
</script>
</body>
</html>
